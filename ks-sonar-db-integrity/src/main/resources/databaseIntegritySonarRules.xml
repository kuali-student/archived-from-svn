<rules>
    <!-- Extension written in Java -->
    <rule>
        <key>parent.key.missing</key>
        <name>Parent Keys Exist</name>
        <description>Records must exist that have references in other tables.  Orphaned data indicates that care was not taken in removing records.  This could be a persistence layer issue, or bad upgrade scripts.  Care must be taken correcting these issues as deleting orphaned data could hide a bigger issue.</description>

        <!-- path to definition -->
        <configKey>databaseIntegrityRules.xml/parent.key.missing</configKey>
        <priority>BLOCKER</priority>
        <!-- Default priority ("severity"). It can be changed while activating the rule in Quality profile -->
        <!-- Possible values are: INFO, MINOR, MAJOR, CRITICAL, BLOCKER. Default value is MAJOR -->
        <!--<priority>MAJOR</priority>-->
    </rule>

    <rule>
        <key>table.mapping</key>
        <name>Tables must exist for all Constraints</name>
        <description>Foreign and Local tables must exist AND must be tables (could be a view).  Fixing violations will require modifying missing_FK_query.sql</description>
        <configKey>databaseIntegrityRules.xml/table.mapping</configKey>
        <priority>CRITICAL</priority>

    </rule>

    <rule>
        <key>field.mapping</key>
        <name>Fields must exist for all Constraints</name>
        <description>Foreign and Local fields must exist.  Fixing violations will require modifying missing_FK_query.sql</description>

        <configKey>databaseIntegrityRules.xml/field.mapping</configKey>
        <priority>CRITICAL</priority>

    </rule>

    <rule>
        <key>column.incompatibility</key>
        <name>Column types of field mappings must match for all Constraints</name>
        <description>This will require modifying the database so that the field types match</description>

        <configKey>databaseIntegrityRules.xml/column.incompatibility</configKey>
        <priority>BLOCKER</priority>

    </rule>

    <rule>
        <key>non.pk.field.mapping</key>
        <name>Parent fields must be primary keys (simple 1 field PK)</name>
        <description>This will likely require reworking the database structure</description>

        <configKey>databaseIntegrityRules.xml/non.pk.field.mapping</configKey>
        <priority>CRITICAL</priority>

    </rule>

    <rule>
        <key>other.fk.issues</key>
        <name>FK Mappings should be able constrainable.  This rule will catch any unexpected errors.</name>
        <description>The correction of this depends on the error</description>

        <configKey>databaseIntegrityRules.xml/other.fk.issues</configKey>
        <priority>CRITICAL</priority>

    </rule>



    <rule>
        <key>field.mapping</key>
        <name>Field Mapping Issue</name>
        <description>Field Mapping Issue - Foreign key owner does not exist</description>
        <configKey>databaseIntegrityRules.xml/field.mapping</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>constraint.mapping</key>
        <name>Unhandled Constraint Mapping</name>
        <description>Unhandled constraint mapping issue</description>
        <configKey>databaseIntegrityRules.xml/constraint.mapping</configKey>
        <priority>MAJOR</priority>
    </rule>


    <rule>
        <key>schemaCompare.table.MISSING_TABLE</key>
        <name>Table Missing</name>
        <description>Table definitions must exist in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.table.TABLE_DESCRIPTION</key>
        <name>Same Table Comment</name>
        <description>Table comment must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.table.COLUMN_DATA_TYPE</key>
        <name>Same Column Data Type</name>
        <description>Column data type must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.COLUMN_DATA_TYPE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.COLUMN_PRIMARY_KEY</key>
        <name>Same Primary Key Flag</name>
        <description>Column primary key state be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.COLUMN_PRIMARY_KEY</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.COLUMN_NULLABLE</key>
        <name>Same Column Nullable</name>
        <description>Column nullable state must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.COLUMN_NULLABLE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.COLUMN_DATA_TYPE_SIZE</key>
        <name>Same Column Data Type Size</name>
        <description>Column Data Type Size must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.COLUMN_DATA_TYPE_SIZE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.COLUMN_DESCRIPTION</key>
        <name>Same Column Description</name>
        <description>Column Description must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.COLUMN_DEFAULT_VALUE</key>
        <name>Same Column Default Value</name>
        <description>Column Default Value must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.MISSING_COLUMN</key>
        <name>Column Missing</name>
        <description>Column definitions must exist in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.UNIQUE_CONSTRAINT_COLUMNS</key>
        <name>Same Unique Constraint Columns</name>
        <description>Unique Constraint Columns must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.MISSING_UNIQUE_CONSTRAINT</key>
        <name>Unique Constraint Missing</name>
        <description>Unique Constraint must exist in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.INDEX_COLUMNS</key>
        <name>Same Index Columns</name>
        <description>Index Columns must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.INDEX_UNIQUE</key>
        <name>Same Index Unique</name>
        <description>Index Unique state must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>
    <rule>
        <key>schemaCompare.table.MISSING_INDEX</key>
        <name>Index Missing</name>
        <description>Index must exist in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.table.MISSING_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.view.MISSING_VIEW</key>
        <name>View Missing</name>
        <description>View must exist in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.view.MISSING_VIEW</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.view.QUERY_STRING</key>
        <name>Same Index Unique</name>
        <description>Index Unique state must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.view.QUERY_STRING</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.sequence.MISSING_SEQUENCE</key>
        <name>Sequence Missing</name>
        <description>Sequence must exist in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.sequence.MISSING_SEQUENCE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.sequence.START_VALUE</key>
        <name>Same Start Value</name>
        <description>Start Value must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.sequence.START_VALUE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.foreignKey.MISSING_FOREIGN_KEY</key>
        <name>Foreign Key Missing</name>
        <description>Foreign Key must exist in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.foreignKey.MISSING_SEQUENCE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.foreignKey.FOREIGN_TABLE</key>
        <name>Same Foreign Table</name>
        <description>Foreign Table must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.foreignKey.FOREIGN_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.foreignKey.LOCAL_COLUMNS</key>
        <name>Same Local Columns</name>
        <description>Local Columns must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.foreignKey.LOCAL_COLUMNS</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.foreignKey.FOREIGN_COLUMNS</key>
        <name>Same Foreign Columns</name>
        <description>Foreign Columns must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.foreignKey.FOREIGN_COLUMNS</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.foreignKey.ON_DELETE</key>
        <name>Same On Delete Clause</name>
        <description>On Delete Clause must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.foreignKey.ON_DELETE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.foreignKey.ON_UPDATE</key>
        <name>Same On Update Clause</name>
        <description>On Update Clause must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.foreignKey.ON_UPDATE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaCompare.foreignKey.LOCAL_TABLE</key>
        <name>Same Local Table</name>
        <description>Local Table must be the same in both KS and DDL schemas</description>
        <configKey>databaseIntegrityRules.xml/schemaCompare.foreignKey.LOCAL_TABLE</configKey>
        <priority>MAJOR</priority>
    </rule>

    <rule>
        <key>schemaValidation.constraintName</key>
        <name>Valid Constraint/Index name</name>
        <description>Index and Constraint (foreign key and unique) names must start with the name of the table to which they belong.</description>
        <configKey>databaseIntegrityRules.xml/schemaValidation.constraintName</configKey>
        <priority>MAJOR</priority>
    </rule>

</rules>
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                           http://www.springframework.org/schema/util
                           http://www.springframework.org/schema/util/spring-util-3.0.xsd">

    <bean id="CashierTxMemoView" parent="Uif-FormView" p:footer.render="false">
        <property name="title" value="Cashier Accounting"/>
        <property name="formClass" value="com.sigmasys.kuali.ksa.krad.form.CashierTxMemoForm"/>
        <property name="theme">
            <bean parent="Uif-KradTheme"/>
        </property>
        <property name="entryPageId" value="CashierQuickMenuOptionsPage"/>
        <property name="navigation">
            <ref bean="KSACashierTxMemoVwNav"/>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-Page" p:id="CashierQuickMenuOptionsPage" p:title="Quick Options">
                    <property name="items">
                        <list>
                            <ref bean="CashierQuickOptions"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-Page" p:id="CashierPersonLookupPage" p:title="Query for Persons">
                    <property name="items">
                        <list>
                            <ref bean="CashierQueryByName"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-Page" p:id="CashierTxBioAgeOvrVwPage"
                      p:title="Account Status. Bio, Alerts/Flags, Aging and Memos">
                    <property name="items">
                        <list>
                            <ref bean="CashierTxBioAgeDetails"/>
                        </list>
                    </property>
                </bean>


                <bean parent="Uif-Page" p:id="CashierTxListByPersonPage" p:title="Transactions for selected Person">
                    <property name="items">
                        <list>
                            <ref bean="CashierTxReviewDetails"/>
                        </list>
                    </property>
                </bean>

                <bean parent="Uif-Page" p:id="CashierAddMemoPage" p:title="Add Information">
                    <property name="items">
                        <list>
                            <ref bean="CashierAddMemo"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!-- Student Account navigation menu by tabs -->
    <!--    <bean parent="Uif-TabNavigationGroup" id="CashierTxMemoView-Menu">
        <property name="items">
            <list>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="CashierPersonLookupPage" p:actionLabel="Summary"/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="AlertsPage" p:actionLabel="Alerts"/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="HistoryPage" p:actionLabel="History"/>
            </list>
        </property>
    </bean>-->

    <!-- Cashier navigation -->
    <bean id="KSACashierTxMemoVwNav" parent="Uif-MenuNavigationGroup">
        <property name="items">
            <list>
                <bean parent="Uif-HeaderField-Two" p:headerText="KSA Navigation"/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="CashierQuickMenuOptionsPage"
                      p:actionLabel="Quick Options"/>
            </list>
        </property>
    </bean>

    <!-- A quick menu of options with links to other pages 1 -->
    <bean id="CashierQuickOptions" parent="Uif-VerticalBoxSection"
          p:layoutManager.orientation="VERTICAL"
          p:title="Find accounts by name"
          p:instructionalText="Select a quick navigation link from the options listed here.">
        <property name="disclosure.render" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-Link" p:linkLabel="Search for a Person" p:target="_self"
                      p:hrefText="cashierTxMemo?methodToCall=get&amp;viewId=CashierTxMemoView&amp;pageId=CashierPersonLookupPage"/>
            </list>
        </property>
    </bean>

    <!-- Lookup a person, select to view their transactions and drill down to transaction detail 2 -->
    <bean id="CashierQueryByName" parent="Uif-VerticalBoxSection"
          p:layoutManager.orientation="VERTICAL"
          p:title="Find accounts by name">
        <property name="disclosure.render" value="false"/>
        <property name="items">
            <list>
                <ref bean="FindMatchesByAccountName"/>
                <!--p:progressiveRenderViaAJAX="true" p:progressiveRender="studentLookupByName eq 'showTxNameMatches'" p:disclosure.render="false"-->
                <bean id="MatchingAccountsList" parent="Uif-Disclosure-TableCollectionSection"
                      p:layoutManager.numberOfColumns="3"
                      p:disclosure.render="false"
                      p:progressiveRenderViaAJAX="true"
                      p:title="Matching Persons and Description"
                      p:instructionalText="Select a line item to view details for the person.">
                    <property name="readOnly" value="true"/>
                    <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Account"/>
                    <property name="propertyName" value="accountBrowseList"/>
                    <property name="layoutManager.sequencePropertyName" value="id"/>
                    <property name="layoutManager.richTable.render" value="false"/>
                    <property name="layoutManager.renderSequenceField" value="false"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-InputField" p:label="Name" p:propertyName="compositeDefaultPersonName">
                                <property name="control">
                                    <bean parent="Uif-TextControl" p:size="36" p:maxLength="35"/>
                                </property>
                            </bean>
                            <bean parent="Uif-InputField" p:label="Description"
                                  p:propertyName="compositeDefaultPostalAddress">
                                <property name="control">
                                    <bean parent="Uif-TextControl" p:size="100" p:maxLength="99"/>
                                </property>
                            </bean>
                            <!-- Use this to display the charges and payments per person
                            <bean parent="Uif-Link" p:linkLabel="Select" p:target="_self"
                                  p:hrefText="cashierTxMemo?methodToCall=get&amp;viewId=CashierTxMemoView&amp;pageId=CashierTxListByPersonPage&amp;id=@{#line.id}" />-->
                            <!-- Use this to display the combined account, bio, aging and alerts -->
                            <bean parent="Uif-Link" p:linkLabel="Select" p:target="_self"
                                  p:hrefText="cashierTxMemo?methodToCall=get&amp;viewId=CashierTxMemoView&amp;pageId=CashierTxBioAgeOvrVwPage&amp;id=@{#line.id}"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>


    <!-- query account(s) reference input 2a -->
    <bean id="FindMatchesByAccountName" parent="Uif-HorizontalBoxSection">
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:label="Search By Name"
                      p:instructionalText="Enter a name to search transactions"
                      p:width="auto" p:propertyName="studentLookupByName" p:required="true">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="25" p:maxLength="100">
                            <!--
                            <property name="options">
                                <list>
                                    <bean parent="Uif-KeyLabelPair" p:key="showTxNameMatches"
                                          p:value="Show Transaction Match for search criteria" />
                                </list>
                            </property>
                            -->
                        </bean>
                    </property>
                </bean>
                <bean parent="Uif-PrimaryActionButton-Small" p:methodToCall="searchByName" p:actionLabel="Search">
                    <property name="actionImage">
                        <bean parent="Uif-ImageField"
                              p:source="@{#ConfigProperties['krad.externalizable.images.url']}searchicon.gif"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!-- A list of detailed charges and payments for a person 3 -->
    <bean id="CashierTxReviewDetails" parent="Uif-VerticalBoxSection"
          p:layoutManager.orientation="VERTICAL"
          p:title="Selected Transactions"
          p:instructionalText="The following is a list of transactions for the selected person">
        <property name="disclosure.render" value="false"/>
        <property name="items">
            <list>
                <ref bean="ChargeDetails"/>
                <ref bean="PaymentDetails"/>
            </list>
        </property>
    </bean>

    <!-- Charge detail list by person, by Charge transactions -->
    <bean id="ChargeDetails" parent="Uif-Disclosure-TableCollectionSection" p:layoutManager.numberOfColumns="5"
          p:disclosure.render="false"
          p:progressiveRenderViaAJAX="true"
          p:title="Charges"
          p:instructionalText="Select a line item to view transactions for the person.">
        <property name="readOnly" value="true"/>
        <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Charge"/>
        <property name="propertyName" value="chargeList"/>
        <property name="layoutManager.sequencePropertyName" value="id"/>
        <property name="layoutManager.richTable.render" value="false"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:label="Ledger Date" p:propertyName="ledgerDate" p:required="true"/>
                <bean parent="Uif-InputField" p:label="Description" p:propertyName="statementText" p:required="true"
                      p:constraintText="Requires Date be filled out">
                    <property name="dependencyConstraints">
                        <list>
                            <bean parent="PrerequisiteConstraint" p:propertyName="ledgerDate"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Amount" p:propertyName="amount" p:required="true"/>
                <bean parent="Uif-InputField" p:label="Currency" p:propertyName="currency.iso" p:required="true"/>
                <bean parent="Uif-Link" p:linkLabel="Details" p:target="_self"
                      p:hrefText="chargeMaintVw?viewId=ChargeMaintenanceVw&amp;methodToCall=get&amp;id=@{#line.id}"/>
            </list>
        </property>
    </bean>

    <!-- Payment detail list by person, by payment transactions -->
    <bean id="PaymentDetails" parent="Uif-Disclosure-TableCollectionSection" p:layoutManager.numberOfColumns="5"
          p:disclosure.render="false"
          p:progressiveRenderViaAJAX="true"
          p:title="Payments"
          p:instructionalText="Select a line item to view transactions for the person.">
        <property name="readOnly" value="true"/>
        <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Payment"/>
        <property name="propertyName" value="paymentList"/>
        <property name="layoutManager.sequencePropertyName" value="id"/>
        <property name="layoutManager.richTable.render" value="false"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:label="Ledger Date" p:propertyName="ledgerDate" p:required="true"/>
                <bean parent="Uif-InputField" p:label="Description" p:propertyName="statementText" p:required="true"
                      p:constraintText="Requires Date be filled out">
                    <property name="dependencyConstraints">
                        <list>
                            <bean parent="PrerequisiteConstraint" p:propertyName="ledgerDate"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Amount" p:propertyName="amount" p:required="true"/>
                <bean parent="Uif-InputField" p:label="Currency" p:propertyName="currency.iso" p:required="true"/>
                <bean parent="Uif-Link" p:linkLabel="Details" p:target="_self"
                      p:hrefText="chargeMaintVw?viewId=ChargeMaintenanceVw&amp;methodToCall=get&amp;id=@{#line.id}"/>
            </list>
        </property>
    </bean>

    <!--  Per person account info, bio, alerts, aging and memo -->
    <bean id="CashierTxBioAgeDetails" parent="Uif-VerticalBoxSection" p:layoutManager.orientation="VERTICAL">
        <property name="disclosure.render" value="false"/>
        <property name="items">
            <list>
                <ref bean="cashierAccountDetails"/>
                <ref bean="cashierBioDetails"/>
                <ref bean="cashierAlertsDetails"/>
                <ref bean="cashierFlagDetails"/>
                <ref bean="cashierAgingDetails"/>
                <ref bean="cashierMemos"/>
                <bean parent="Uif-SecondaryNavigationActionButton" p:navigateToPageId="CashierAddMemoPage"
                      p:actionLabel="Add Information"/>
            </list>
        </property>
    </bean>

    <!-- Accounts -->
    <bean id="cashierAccountDetails" parent="Uif-HorizontalBoxSection">
        <property name="title" value="Account Status"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="pastDue" p:label="Past Due" p:labelPlacement="TOP"
                      p:maxLength="10">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="balance" p:label="Balance" p:labelPlacement="TOP"
                      p:maxLength="10">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="future" p:label="Future" p:labelPlacement="TOP"
                      p:maxLength="10">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="defermentTotal" p:label="Deferments"
                      p:labelPlacement="TOP" p:maxLength="10">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="addCharge" p:actionLabel="Add Charge">
                    <!--<property name="actionImage">
                        <bean parent="Uif-ImageField"
                              p:source="@{#ConfigProperties['krad.externalizable.images.url']}ks/icon_btn_add.png"/>
                    </property>-->
                </bean>
                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="makePayment"
                      p:actionLabel="Make Payment">
                    <!--<property name="actionImage">
                        <bean parent="Uif-ImageField"
                              p:source="@{#ConfigProperties['krad.externalizable.images.url']}ks/icon_btn_add.png"/>
                    </property>-->
                </bean>
            </list>
        </property>
    </bean>

    <!-- Bio -->
    <bean id="cashierBioDetails" parent="Uif-HorizontalBoxSection">
        <property name="title" value="Biographic Information"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="selectedId" p:label="ID" p:labelPlacement="TOP"
                      p:maxLength="9">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="10"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Name" p:propertyName="compositePersonName" p:labelPlacement="TOP"
                      p:maxLength="24">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="25"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Address" p:propertyName="compositePostalAddress"
                      p:labelPlacement="TOP" p:maxLength="49">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="35"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>


    <!-- Alerts -->
    <bean id="cashierAlertsDetails" parent="Uif-Disclosure-TableCollectionSection" p:layoutManager.numberOfColumns="1"
          p:title="Alerts"
          p:disclosure.render="false"
          p:progressiveRenderViaAJAX="true">
        <property name="readOnly" value="true"/>
        <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Alert"/>
        <property name="propertyName" value="alertList"/>
        <property name="layoutManager.sequencePropertyName" value="id"/>
        <property name="layoutManager.richTable.render" value="false"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="text" p:maxLength="99">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="100"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!-- Alerts -->
    <bean id="cashierFlagDetails" parent="Uif-Disclosure-TableCollectionSection" p:layoutManager.numberOfColumns="1"
          p:title="Flags"
          p:disclosure.render="false"
          p:progressiveRenderViaAJAX="true">
        <property name="readOnly" value="true"/>
        <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Flag"/>
        <property name="propertyName" value="flagList"/>
        <property name="layoutManager.sequencePropertyName" value="id"/>
        <property name="layoutManager.richTable.render" value="false"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="text" p:maxLength="99">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="100"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!-- Aging list -->
    <bean id="cashierAgingDetails" parent="Uif-HorizontalBoxSection">
        <property name="title" value="Aged Transactions"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="lastAgeDate" p:label="Last Age Date"
                      p:labelPlacement="TOP" p:maxLength="10">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="aged30" p:label="30" p:labelPlacement="TOP"
                      p:maxLength="10">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="aged60" p:label="60" p:labelPlacement="TOP"
                      p:maxLength="10">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="aged90" p:label="90" p:labelPlacement="TOP"
                      p:maxLength="10">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="agedTotal" p:label="Total" p:labelPlacement="TOP"
                      p:maxLength="10">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="ignoreDeferment" p:label="Ignore Deferment"
                      p:defaultValue="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CheckboxControl"/>
                    </property>
                </bean>
                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="ageDebt"
                      p:actionLabel="Age Transactions">
                    <!--<property name="actionImage">
                        <bean parent="Uif-ImageField"
                              p:source="@{#ConfigProperties['krad.externalizable.images.url']}ks/icon_btn_add.png"/>
                    </property>-->
                </bean>
            </list>
        </property>
    </bean>

    <!-- Memo and Information list -->
    <bean id="cashierMemos" parent="Uif-Disclosure-TableCollectionSection" p:layoutManager.numberOfColumns="1"
          p:disclosure.render="false"
          p:progressiveRenderViaAJAX="true"
          p:title="Alerts / Flags / Memos">
        <property name="readOnly" value="true"/>
        <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Memo"/>
        <property name="propertyName" value="memoList"/>
        <property name="layoutManager.sequencePropertyName" value="id"/>
        <property name="layoutManager.richTable.render" value="false"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="text">
                    <property name="control">
                        <bean parent="Uif-TextAreaControl" p:rows="5" p:cols="40"
                              p:watermarkText="Information text..." p:maxLength="2000"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>


    <bean id="CashierAddMemo" parent="Uif-VerticalBoxSection" p:layoutManager.orientation="VERTICAL">
        <property name="items">
            <list>
                <ref bean="CashierAddMemoGroup"/>
                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="addMemo" p:actionLabel="Add Information">
                    <property name="actionImage">
                        <bean parent="Uif-ImageField"
                              p:source="@{#ConfigProperties['krad.externalizable.images.url']}ks/icon_btn_add.png"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="CashierAddMemoGroup" parent="Uif-Disclosure-GridSection">
        <property name="instructionalText" value="Add data to fields"/>
        <property name="layoutManager">
            <bean parent="Uif-GridLayoutBase" p:numberOfColumns="4"/>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-HorizontalFieldGroup" p:width="40%" p:labelField.width="10%">
                    <property name="items">
                        <list>
                            <bean parent="Uif-InputField" p:propertyName="infoType" p:label="Information Type"
                                  p:labelPlacement="TOP"
                                  p:width="auto"
                                  p:defaultValue="MEMO_CODE"
                                  p:required="true">
                                <property name="bindingInfo.bindToForm" value="true"/>
                                <property name="control">
                                    <bean parent="Uif-DropdownControl"/>
                                </property>
                                <property name="optionsFinder">
                                    <bean class="com.sigmasys.kuali.ksa.krad.util.InformationTypeKeyValues"
                                          p:blankOption="false"/>
                                </property>
                            </bean>
                            <bean parent="Uif-InputField" p:propertyName="infoText" p:label="Information Text"
                                  p:labelPlacement="TOP"
                                  p:rowSpan="2"
                                  p:labelField.rowSpan="2">
                                <property name="bindingInfo.bindToForm" value="true"/>
                                <property name="control">
                                    <bean parent="Uif-TextAreaControl" p:rows="5" p:cols="40"
                                          p:watermarkText="Type in information text here..."/>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

</beans>
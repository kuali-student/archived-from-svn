<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/util
    http://www.springframework.org/schema/util/spring-util-3.0.xsd">


    <!-- Breadcrumbs and History -->
    <bean id="Uif-Breadcrumbs" parent="Uif-Breadcrumbs-parentBean">
        <property name="homewardPathList">
            <list>
                <bean parent="Uif-HistoryEntry" p:title="Home" p:url="../index.jsp"/>
            </list>
        </property>
    </bean>

    <bean id="Uif-KsaTheme" parent="Uif-KradTheme">
        <!-- Additional CSS and JS files can be added here -->
    </bean>

    <bean id="Uif-KsaNavigationGroupBase" abstract="true"
          class="com.sigmasys.kuali.ksa.krad.util.LinkNavigationGroup"
          scope="prototype">
        <property name="template" value="/WEB-INF/ftl/navigationGroup.ftl"/>
        <property name="templateName" value="uif_navigationGroup"/>
        <property name="cssClasses">
            <list>
                <value>uif-navigationGroup</value>
            </list>
        </property>
    </bean>

    <bean id="Uif-KsaMenuNavigationGroupBase" parent="Uif-KsaNavigationGroupBase">
        <property name="cssClasses">
            <list merge="true">
                <value>uif-menuNavigationGroup</value>
            </list>
        </property>
        <property name="navigationType" value="VERTICAL_MENU"/>
    </bean>

    <bean id="Uif-KsaPageNavigation" parent="Uif-KsaMenuNavigationGroupBase" abstract="true" scope="prototype">
        <property name="items">
            <list>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="HomePage" p:actionLabel="Page 1"/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="HomePage" p:actionLabel="Page 2"/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="HomePage" p:actionLabel="Page ..."/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="HomePage" p:actionLabel="Page N"/>
            </list>
        </property>
    </bean>

    <bean id="Uif-KsaFormView" parent="Uif-FormView" abstract="true" scope="prototype">
        <property name="template" value="/WEB-INF/ftl/view.ftl"/>
        <property name="additionalCssFiles">
            <list>
                <value>css/ksa.css</value>
            </list>
        </property>
        <property name="theme" ref="Uif-KsaTheme"/>
        <property name="applicationHeader">
            <bean parent="Uif-HeaderBase" p:id="ksa-banner">
                <property name="upperGroup">
                    <bean parent="Uif-HeaderUpperGroup" p:id="ksa-header-upper-group"
                          p:layoutManager.itemStyleClasses="boxLayoutHorizontalItem-tight">
                        <property name="items">
                            <list>
                                <bean parent="Uif-ImageField"
                                      p:source="@{getContext()}/images/kuali_student_accounts.png">
                                </bean>
                                <bean parent="Uif-InputField" p:propertyName="searchType" p:label="Search Type"
                                      p:labelPlacement="LEFT"
                                      p:width="auto"
                                      p:required="false">
                                    <property name="bindingInfo.bindToForm" value="true"/>
                                    <property name="control">
                                        <bean parent="Uif-DropdownControl"/>
                                    </property>
                                    <property name="optionsFinder" value="@{getSearchTypeValuesFinder()}"/>
                                </bean>
                                <!-- p:fieldLabel.styleClasses="labelTop" -->
                                <bean parent="Uif-InputField" p:label="Search" p:propertyName="searchValue"
                                      p:labelPlacement="LEFT"
                                      p:fieldLabel.renderColon="true">
                                    <property name="control">
                                        <bean parent="Uif-TextControl" p:size="15"/>
                                    </property>
                                </bean>
                                <bean parent="Uif-PrimaryActionButton-Small" p:methodToCall="searchByType"
                                      p:actionLabel="Search">
                                </bean>
                            </list>
                        </property>
                    </bean>
                </property>
            </bean>
        </property>
        <property name="header">
            <bean parent="Uif-HeaderBase">
                <property name="upperGroup">
                    <ref bean="Uif-KsaViewNavigation"/>
                </property>
            </bean>
        </property>
        <property name="navigation">
            <bean parent="Uif-KsaPageNavigation"/>
        </property>
        <property name="items">
            <list>
                <ref bean="AccountSearchPage"/>
                <ref bean="TransactionSearchPage"/>
            </list>
        </property>
    </bean>

    <bean id="Uif-KsaViewNavigation" parent="Uif-KsaNavigationGroupBase" scope="prototype">
        <property name="navigationType" value="TAB_MENU"/>
        <property name="cssClasses">
            <list merge="true">
                <value>uif-tabNavigationGroup</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-Link" p:linkText="Home" p:target="_self"
                      p:href="ksaStudentAccountsVw?methodToCall=get&amp;viewId=KsaStudentAccountsView&amp;pageId=SearchResultsPage"/>
                <bean parent="Uif-Link" p:linkText="Administration" p:target="_self"
                      p:href="transOvrVw?methodToCall=get&amp;viewId=StudentTransactionOverview&amp;pageId=bursaPersonLookupPage"/>
                <bean parent="Uif-Link" p:linkText="Reconciliation" p:target="_self"
                      p:href="transOvrVw?methodToCall=get&amp;viewId=StudentTransactionOverview&amp;pageId=bursaCurrencyPage"/>
                <bean parent="Uif-Link" p:linkText="Collections" p:target="_self"
                      p:href="transOvrVw?methodToCall=get&amp;viewId=StudentTransactionOverview&amp;pageId=bursaActivityPage"/>
                <bean parent="Uif-Link" p:linkText="Batch Transactions" p:target="_self"
                      p:href="transOvrVw?methodToCall=get&amp;viewId=StudentTransactionOverview&amp;pageId=bursaCurrencyPage"/>
                <bean parent="Uif-Link" p:linkText="Settings" p:target="_self"
                      p:href="transOvrVw?methodToCall=get&amp;viewId=StudentTransactionOverview&amp;pageId=bursaCurrencyPage"/>
            </list>
        </property>
    </bean>

    <!-- Common KSA search pages go here -->
    <bean id="AccountSearchPage" parent="Uif-Page" p:title="Accounts" scope="prototype">
        <property name="items">
            <list>
                <bean parent="Uif-VerticalBoxSection"
                      p:layoutManager.orientation="VERTICAL"
                      p:title="Search for Accounts by Name">
                    <property name="disclosure.render" value="false"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-Disclosure-TableCollectionSection"
                                  p:layoutManager.numberOfColumns="3"
                                  p:disclosure.render="false"
                                  p:progressiveRenderViaAJAX="true"
                                  p:title="Matching Accounts"
                                  p:instructionalText="Select an account to view details">
                                <property name="readOnly" value="true"/>
                                <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Account"/>
                                <property name="propertyName" value="accounts"/>
                                <property name="layoutManager.sequencePropertyName" value="id"/>
                                <property name="layoutManager.richTable.render" value="false"/>
                                <property name="layoutManager.renderSequenceField" value="false"/>
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-InputField" p:label="Name"
                                              p:propertyName="compositeDefaultPersonName">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="50" p:maxLength="50"/>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-InputField" p:label="Description"
                                              p:propertyName="compositeDefaultPostalAddress">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="120" p:maxLength="120"/>
                                            </property>
                                        </bean>
                                        <!-- Use this to display the combined account, bio, aging and alerts -->
                                        <bean parent="Uif-LinkField" p:linkText="Select" p:target="_self"
                                              p:href="customerService?methodToCall=get&amp;viewId=CustomerServiceView&amp;pageId=CustomerServicePersonOvrVwPage&amp;id=@{#line.id}"/>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="TransactionSearchPage" parent="Uif-Page" p:title="Transactions" scope="prototype">
        <property name="items">
            <list>
                <bean parent="Uif-VerticalBoxSection"
                      p:layoutManager.orientation="VERTICAL"
                      p:title="Search for Transactions by Statement Text">
                    <property name="disclosure.render" value="false"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-Disclosure-TableCollectionSection"
                                  p:layoutManager.numberOfColumns="3"
                                  p:disclosure.render="false"
                                  p:progressiveRenderViaAJAX="true"
                                  p:title="Matching Transactions"
                                  p:instructionalText="Select a transaction to view details">
                                <property name="readOnly" value="true"/>
                                <property name="collectionObjectClass"
                                          value="com.sigmasys.kuali.ksa.model.Transaction"/>
                                <property name="propertyName" value="transactions"/>
                                <property name="layoutManager.sequencePropertyName" value="id"/>
                                <property name="layoutManager.richTable.render" value="false"/>
                                <property name="layoutManager.renderSequenceField" value="false"/>
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-InputField" p:label="ID"
                                              p:propertyName="id">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="35" p:maxLength="35"/>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-InputField" p:label="Type"
                                              p:propertyName="transactionTypeValue">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="50" p:maxLength="50"/>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-InputField" p:label="Statement"
                                              p:propertyName="statementText">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="120" p:maxLength="120"/>
                                            </property>
                                        </bean>
                                        <!-- Use this to display the combined account, bio, aging and alerts -->
                                        <bean parent="Uif-LinkField" p:linkText="Select" p:target="_self"
                                              p:href="customerService?methodToCall=get&amp;viewId=CustomerServiceView&amp;pageId=CustomerServicePersonOvrVwPage&amp;id=@{#line.id}"/>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

</beans>
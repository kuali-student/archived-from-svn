<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/util
    http://www.springframework.org/schema/util/spring-util-3.0.xsd">


    <!-- Breadcrumbs and History -->
    <bean id="Uif-KsaBreadcrumbs" parent="Uif-Breadcrumbs-parentBean">
        <property name="homewardPathList">
            <list>
                <bean parent="Uif-HistoryEntry" p:title="Home" p:url="../index.html"/>
            </list>
        </property>
    </bean>

    <bean id="Uif-KsaTheme" parent="Uif-KradTheme">
        <!-- Additional CSS and JS files can be added here -->
    </bean>

    <bean id="Uif-KsaNavigationGroupBase" class="com.sigmasys.kuali.ksa.krad.uif.LinkNavigationGroup" abstract="true">
        <property name="template" value="/krad/WEB-INF/ftl/components/group/navigationGroup.ftl"/>
        <property name="templateName" value="uif_navigationGroup"/>
        <property name="cssClasses">
            <list>
                <value>uif-navigationGroup</value>
            </list>
        </property>
    </bean>

    <bean id="Uif-KsaViewNavigation" parent="Uif-KsaNavigationGroupBase">
        <property name="navigationType" value="TAB_MENU"/>
        <property name="cssClasses">
            <list merge="true">
                <value>uif-tabNavigationGroup</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-Link" p:linkText="Account Overview" p:target="_self"
                      p:href="ksaStudentAccountsVw?methodToCall=get&amp;viewId=KsaStudentAccountsView&amp;AccountOVTransactionsPage"/>
                <bean parent="Uif-Link" p:linkText="Administration" p:target="_self"
                      p:href="ksaAdminVw?methodToCall=get&amp;viewId=KsaAdminView&amp;pageId=ActivityPage"/>
                <bean parent="Uif-Link" p:linkText="Reconciliation" p:target="_self"
                      p:href="ksaReportReconciliationVw?methodToCall=get&amp;viewId=KsaReportReconciliationView"/>
                <bean parent="Uif-Link" p:linkText="Collections" p:target="_self"
                      p:href="ksaCollectionsVw?methodToCall=get&amp;viewId=KsaCollectionsView"/>
                <bean parent="Uif-Link" p:linkText="Batch Transactions" p:target="_self"
                      p:href="ksaBatchTransactionsVw?methodToCall=get&amp;viewId=KsaBatchTransactionsView"/>
                <bean parent="Uif-Link" p:linkText="Account Import" p:target="_self"
                      p:href="ksaAccountImportVw?methodToCall=get&amp;viewId=KsaAccountImportView"/>
                <bean parent="Uif-Link" p:linkText="Settings" p:target="_self"
                      p:href="ksaCurrencyVw?methodToCall=get&amp;viewId=KsaCurrencyView&amp;pageId=CurrencyPage"/>
                <!--bean parent="Uif-Link" p:linkText="FM-Upload" p:target="_self"
                      p:href="ksaFeeAssessmentVw?methodToCall=get&amp;viewId=KsaFeeAssessmentView&amp;pageId=FeeAssessmentUploadFilePage"/-->
                <bean parent="Uif-Link" p:linkText="FM-Admin" p:target="_self"
                      p:href="rulesView?methodToCall=get&amp;viewId=RulesView"/>
            </list>
        </property>
    </bean>

    <bean id="Uif-KsaPageNavigation" parent="Uif-MenuNavigationGroup" abstract="true">
        <property name="items">
            <list>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="HomePage" p:actionLabel="Page 1"/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="HomePage" p:actionLabel="Page 2"/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="HomePage" p:actionLabel="Page ..."/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="HomePage" p:actionLabel="Page N"/>
            </list>
        </property>
    </bean>

    <bean id="Uif-KsaHeader"  class="com.sigmasys.kuali.ksa.krad.uif.KsaHeader" parent="Uif-HeaderBase">
        <property name="template" value="/WEB-INF/ftl/header.ftl"/>
        <property name="upperGroup" ref="Uif-KsaViewNavigation"/>
    </bean>

    <bean id="Uif-KsaFormView"  class="com.sigmasys.kuali.ksa.krad.uif.KsaFormView" parent="Uif-FormView" abstract="true">
        <property name="template" value="/WEB-INF/ftl/view.ftl"/>
        <property name="additionalCssFiles">
            <list>
                <value>css/ksa.css?forceReload</value>
            </list>
        </property>
        <property name="theme" ref="Uif-KsaTheme"/>
        <property name="breadcrumbs" ref="Uif-KsaBreadcrumbs"/>
        <property name="onLoadScript" value="window.onbeforeunload = null;"/>
        <property name="entryPageId" value="AccountSearchPage"/>
        <property name="applicationHeader">
            <bean parent="Uif-HeaderBase" p:id="ksa-banner">
                <property name="upperGroup">
                    <bean parent="Uif-HeaderUpperGroup" p:id="ksa-header-upper-group"
                          p:layoutManager.itemStyleClasses="boxLayoutHorizontalItem-tight">
                        <property name="items">
                            <list>
                                <bean parent="Uif-ImageField"
                                      p:source="@{getContext()}/images/kuali_student_accounts.png">
                                    <property name="cssClasses">
                                        <list merge="true">
                                            <value>ksa-logo</value>
                                        </list>
                                    </property>
                                </bean>
<!--                            See AbstractModel constructor. When we decide to make permanent will remove
                                <bean parent="Uif-InputField" p:propertyName="searchType" p:label="Search Type"
                                      p:labelPlacement="TOP"
                                      p:width="auto"
                                      p:required="false"
                                      p:fieldLabel.renderColon="false">
                                    <property name="bindingInfo.bindToForm" value="true"/>
                                    <property name="control">
                                        <bean parent="Uif-DropdownControl"/>
                                    </property>
                                    <property name="optionsFinder" value="@{getSearchTypeValuesFinder()}"/>
                                </bean>
-->
                                <!-- p:fieldLabel.styleClasses="labelTop" -->
                                <bean parent="Uif-InputField" p:label="Account Lookup" p:propertyName="searchValue"
                                      p:labelPlacement="TOP"
                                      p:fieldLabel.renderColon="false">
                                    <property name="bindingInfo.bindToForm" value="true"/>
                                    <property name="control">
                                        <bean parent="Uif-TextControl" p:size="25"/>
                                    </property>
                                </bean>
                                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="searchByType"
                                      p:actionLabel="Search">
                                    <property name="cssClasses">
                                        <list merge="true">
                                            <value>ksa-form-button</value>
                                        </list>
                                    </property>
                                </bean>
                            </list>
                        </property>
                    </bean>
                </property>
            </bean>
        </property>
        <property name="header" ref="Uif-KsaHeader">
        </property>
        <property name="navigation">
            <bean parent="Uif-KsaPageNavigation"/>
        </property>
        <property name="items">
            <list>
                <ref bean="AccountSearchPage"/>
                <ref bean="TransactionSearchPage"/>
            </list>
        </property>
    </bean>

    <!-- Common KSA search pages go here -->
    <bean id="AccountSearchPage" parent="Uif-Page" p:title="Accounts" scope="prototype">
        <property name="items">
            <list>
                <bean parent="Uif-VerticalBoxSection"
                      p:layoutManager.orientation="VERTICAL"
                      p:title="Search for Accounts by Name">
                    <property name="disclosure.render" value="false"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-Disclosure-TableCollectionSection"
                                  p:layoutManager.numberOfColumns="5"
                                  p:disclosure.render="false"
                                  p:progressiveRenderViaAJAX="true"
                                  p:title="Matching Accounts"
                                  p:instructionalText="Select an account to view details"
                                  p:width="85%">
                                <property name="readOnly" value="true"/>
                                <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Account"/>
                                <property name="propertyName" value="accounts"/>
                                <property name="layoutManager.sequencePropertyName" value="id"/>
                                <property name="layoutManager.richTable.render" value="false"/>
                                <property name="layoutManager.renderSequenceField" value="false"/>
                                <property name="layoutManager.applyDefaultCellWidths" value="false"/>
                                <property name="layoutManager.richTable.disableTableSort" value="false"/>
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-InputField" p:label="ID"
                                              p:propertyName="Id" p:width="10%">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="15" p:maxLength="20" />
                                            </property>
                                        </bean>
                                        <bean parent="Uif-InputField" p:label="Name"
                                              p:propertyName="compositeDefaultPersonName"
                                              p:width="30%">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="50" p:maxLength="50" />
                                            </property>
                                        </bean>
                                        <bean parent="Uif-InputField" p:label="Address"
                                              p:propertyName="compositeDefaultPostalAddress"
                                              p:width="50%">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="120" p:maxLength="120"/>
                                            </property>
                                        </bean>
                                        <!-- Use this to display the combined account, bio, aging and alerts -->
                                        <bean parent="Uif-LinkField" p:linkText="Transactions" p:target="_self" p:align="center" p:width="10%"
                                              p:href="ksaStudentAccountsVw?methodToCall=get&amp;viewId=KsaStudentAccountsView&amp;pageId=AccountOVTransactionsPage&amp;userId=@{#line.id}"/>
                                        <bean parent="Uif-LinkField" p:linkText="Quick View" p:target="_self" p:align="center" p:width="10%"
                                              p:href="ksaQuickVw?methodToCall=get&amp;viewId=KsaQuickView&amp;userId=@{#line.id}"/>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="TransactionSearchPage" parent="Uif-Page" p:title="Transactions" scope="prototype">
        <property name="items">
            <list>
                <bean parent="Uif-VerticalBoxSection"
                      p:layoutManager.orientation="VERTICAL"
                      p:title="Search for Transactions by Statement Text">
                    <property name="disclosure.render" value="false"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-Disclosure-TableCollectionSection"
                                  p:layoutManager.numberOfColumns="3"
                                  p:disclosure.render="false"
                                  p:progressiveRenderViaAJAX="true"
                                  p:title="Matching Transactions"
                                  p:instructionalText="Select a transaction to view details"
                                  p:width="85%">
                                <property name="readOnly" value="true"/>
                                <property name="collectionObjectClass"
                                          value="com.sigmasys.kuali.ksa.model.Transaction"/>
                                <property name="propertyName" value="transactions"/>
                                <property name="layoutManager.sequencePropertyName" value="id"/>
                                <property name="layoutManager.richTable.render" value="false"/>
                                <property name="layoutManager.renderSequenceField" value="false"/>
                                <property name="layoutManager.applyDefaultCellWidths" value="false"/>
                                <property name="layoutManager.richTable.disableTableSort" value="false"/>
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-InputField" p:label="ID"
                                              p:propertyName="id" p:width="35%">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="35" p:maxLength="35"/>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-InputField" p:label="Type"
                                              p:propertyName="transactionTypeValue" p:width="20%">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="50" p:maxLength="50"/>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-InputField" p:label="Statement"
                                              p:propertyName="statementText"  p:width="50%">
                                            <property name="control">
                                                <bean parent="Uif-TextControl" p:size="120" p:maxLength="120"/>
                                            </property>
                                        </bean>
                                        <!-- Use this to display the combined account, bio, aging and alerts -->
                                        <bean parent="Uif-LinkField" p:linkText="Select" p:target="_self" p:width="10%"
                                              p:href="customerService?methodToCall=get&amp;viewId=CustomerServiceView&amp;pageId=CustomerServicePersonOvrVwPage&amp;id=@{#line.id}"/>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

</beans>
<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2005-2012 The Kuali Foundation

    Licensed under the Educational Community License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.opensource.org/licenses/ecl2.php

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/util
    http://www.springframework.org/schema/util/spring-util-3.0.xsd">

    <bean id="CurrencyView" parent="Uif-KsaFormView" p:footer.render="false">
        <property name="title" value="Currency"/>
        <property name="headerText" value="Currency"/>
        <property name="entryPageId" value="CurrencyPage"/>
        <property name="navigation">
            <bean parent="Uif-KsaPageNavigation">
                <property name="items">
                    <list merge="true">
                        <!-- TODO Advanced Search -->
                        <bean parent="Uif-NavigationActionLink" p:navigateToPageId="AdvancedSearch"
                              p:actionLabel="Advanced Search"/>
                    </list>
                </property>
            </bean>
        </property>
        <property name="items">
            <list merge="true">
                <bean parent="Uif-Page" p:id="CurrencyPage" p:title="Currency List">
                    <property name="headerText" value="Currency List"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-HorizontalBoxSection">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="refresh"
                                              p:actionLabel="Refresh">
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                            <ref bean="addCurrencySection"/>
                            <ref bean="currencyTableSection"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-Page" p:id="CurrencyDetailsPage" p:title="Currency Details">
                    <property name="headerText" value="Currency Details"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-HorizontalBoxSection">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-Link" p:linkText="Currencies" p:target="_self"
                                              p:href="currencyView?methodToCall=get&amp;viewId=CurrencyView&amp;pageId=CurrencyPage"/>
                                    </list>
                                </property>
                            </bean>
                            <ref bean="currencyDetailSection"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
<!--
        <property name="additionalCssFiles" ref=""/>
        <property name="additionalJsFiles" ref=""/>
        <property name="viewHelperServiceClassName" value=""/>
        <property name="defaultBindingObjectPath" value=""/>
-->
        <property name="formClass" value="com.sigmasys.kuali.ksa.krad.form.CurrencyForm"/>
    </bean>

    <!--
    ********************************************************************************************************************
                                        Add Currency and List section
    A horizontal section for adding a currency
    ********************************************************************************************************************
    -->
    <bean id="addCurrencySection" parent="Uif-HorizontalBoxSection">
        <property name="title" value="Add Currency Type"/>
        <property name="instructionalText" value="Input fields to add a currency * denotes a required field"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:label="Symbol"
                      p:propertyName="currency.code"
                      p:labelPlacement="TOP"
                      p:required="true">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="11" p:maxLength="10"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Name"
                      p:propertyName="currency.name"
                      p:labelPlacement="TOP"
                      p:required="true">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="20" p:maxLength="100"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Description"
                      p:propertyName="currency.description"
                      p:labelPlacement="TOP">
                    <property name="control">
                        <bean parent="Uif-TextAreaControl" p:rows="5" p:cols="40"
                              p:watermarkText="Paste or key in the description here..."/>
                    </property>
                </bean>
                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="insertCurrency" p:actionLabel="Add"/>
                <!--  Status message -->
                <bean parent="Uif-MessageField" p:messageText="@{statusMessage}"/>

            </list>
        </property>
    </bean>

    <!-- Collection list of currency types -->
    <!--
    ********************************************************************************************************************
                                             Currency List section
    A table containing a list of currencies used in the system
    ********************************************************************************************************************
    -->
    <bean id="currencyTableSection" parent="Uif-Disclosure-TableCollectionSection"
          p:layoutManager.numberOfColumns="4"
          p:width="85%">
        <property name="title" value="View Currency Types"/>
        <property name="instructionalText"
                  value="The International Organization for Standardization publishes a list of standard currency codes referred to as the ISO 4217 code list. This is a list of ISO 4217 codes used in this application."/>
        <property name="readOnly" value="true"/>
        <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Currency"/>
        <property name="propertyName" value="currencies"/>
        <property name="layoutManager.sequencePropertyName" value="id"/>
        <property name="layoutManager.richTable.render" value="true"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="layoutManager.applyDefaultCellWidths" value="false"/>
        <property name="layoutManager.richTable.disableTableSort" value="false"/>
        <property name="layoutManager.richTable.templateOptions">
            <map merge="true">
                <entry key="bPaginate" value="true"/>
                <entry key="iDisplayLength" value="20"/>
            </map>
        </property>

        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:label="Symbol"
                      p:propertyName="code"
                      p:width="10%">
                    <property name="control">
                        <bean parent="Uif-TextControl"
                              p:size="11" p:maxLength="10"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Name"
                      p:propertyName="name"
                      p:width="15%">
                    <property name="control">
                        <bean parent="Uif-TextControl"
                              p:size="20" p:maxLength="100"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Description"
                      p:propertyName="description"
                      p:width="55%">
                    <property name="control">
                        <bean parent="Uif-TextAreaControl"
                              p:rows="5" p:cols="80"
                              p:watermarkText="Statement description..."/>
                    </property>
                </bean>
                <bean parent="Uif-LinkField" p:label="Edit" p:linkText="Edit" p:target="_self" p:width="10%"
                      p:href="currencyView?viewId=CurrencyView&amp;pageId=CurrencyDetailsPage&amp;methodToCall=get&amp;currencyId=@{#line.id}" />
            </list>
        </property>
    </bean>

    <!--
    ********************************************************************************************************************
                                        Edit a Currency section
    A section devoted to displaying the detail of a currency and allows editing
    ********************************************************************************************************************
    -->
    <bean id="currencyDetailSection" parent="Uif-VerticalBoxSection">
        <property name="title" value="Currency Details View"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField"
                      p:propertyName="currency.code"
                      p:labelPlacement="TOP"
                      p:label="Symbol">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl"
                              p:size="11" p:maxLength="10"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField"
                      p:propertyName="currency.name"
                      p:label="Name"
                      p:labelPlacement="TOP"
                      p:required="true">
                    <property name="control">
                        <bean parent="Uif-TextControl"
                              p:size="20" p:maxLength="100"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField"
                      p:label="Description"
                      p:propertyName="currency.description"
                      p:labelPlacement="TOP">
                    <property name="control">
                        <bean parent="Uif-TextAreaControl"
                              p:rows="5" p:cols="80"
                              p:watermarkText="Key in the statement description here..."/>
                    </property>
                </bean>
                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="updateCurrency"
                      p:actionLabel="Submit"
                      p:onClickScript="writeHiddenToForm(&quot;actionParameters[currencyId]&quot;, &quot;@{currency.id}&quot;);">
                    <!--<property name="actionImage">
                        <bean parent="Uif-ImageField"
                              p:source="@{#ConfigProperties['krad.externalizable.images.url']}ks/icon_btn_add.png"/>
                    </property>-->
                </bean>
                <!--  Status message -->
                <bean parent="Uif-MessageField" p:messageText="@{statusMessage}"/>
            </list>
        </property>
    </bean>

</beans>
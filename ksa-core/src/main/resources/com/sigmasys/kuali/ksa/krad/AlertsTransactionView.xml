<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean id="AlertsTransactionView" parent="Uif-FormView" p:footer.render="false">
        <property name="id" value="AlertsTransactionView"/>
        <property name="theme">
            <bean parent="Uif-KradTheme"/>
        </property>
        <property name="formClass" value="com.sigmasys.kuali.ksa.krad.form.AlertsTransactionForm"/>
        <property name="title" value="Student Accounts"/>
        <property name="entryPageId" value="AccountSummaryPage"/>
        <property name="navigation" ref="KSAAlertsTransNav"/>
        <property name="items">
            <list>
                <!--<bean parent="Uif-Link" p:linkLabel="Transaction Detail"
                      <p:hrefText="uif/transactionDetails?methodToCall=get&viewId=TransactionDetails-FormView"/>-->
                <bean id="AccountSummaryPage" parent="Uif-Page" p:title="Account Summary">
                    <property name="items">
                        <list>
                            <ref bean="Account_Summary" />
                        </list>
                    </property>
                </bean>
                <bean id="AlertsRecentTransactionsPage" parent="Uif-Page" p:title="Alerts Recent Transactions">
                    <property name="header.group">
                        <bean parent="Uif-LinkGroup">
                            <property name="items">
                                <list>
                                    <bean parent="Uif-ActionLink"
                                          p:methodToCall="refresh" p:actionLabel="Refresh"/>
                                    <bean parent="Uif-ActionLink"
                                          p:methodToCall="refresh" p:actionLabel="Save and Continue"/>
                                </list>
                            </property>
                        </bean>
                    </property>
                    <property name="items">
                        <list>
                            <ref bean="First_Glance"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

<!--    <bean id="AlertsRecentTransLayout_KSA" parent="AlertsTransactionView">
        <property name="theme">
            <bean parent="Uif-ClassicKnsTheme"/>
        </property>
    </bean>-->

    <bean id="KSAAlertsTransNav" parent="Uif-MenuNavigationGroup">
        <property name="items">
            <list>
                <bean parent="Uif-HeaderField-Two" p:headerText="Student Accounts"/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="AccountSummaryPage"
                    p:actionLabel="Summary Overview"/>
                <bean parent="Uif-NavigationActionLink" p:navigateToPageId="AlertsRecentTransactionsPage"
                    p:actionLabel="Alerts / Recent Transactions"/>
            </list>
        </property>
    </bean>


    <!-- a vertical column section of boxes that references a horizontal sub section -->
    <bean id="Account_Summary" parent="Uif-VerticalBoxSection">
        <property name="title" value="Overview"/>
        <property name="instructionalText" value="Account Summary"/>
        <property name="items">
            <list>
                <ref bean="Overview_Section"/>
            </list>
        </property>
    </bean>

    <!-- a vertical column section of boxes that references a horizontal sub section -->
    <bean id="First_Glance" parent="Uif-VerticalBoxSection">
        <property name="title" value="First Glance"/>
        <property name="instructionalText" value="Key information"/>
        <property name="items">
            <list>
                <ref bean="First_Glance_Section"/>
                <ref bean="Query_Filters_Section"/>
                <ref bean="Recent_Transaction_Section"/>
            </list>
        </property>
    </bean>


    <!-- a horizontal row of boxes fields are provided from the corresponding form class -->
    <bean id="Overview_Section" parent="Uif-HorizontalBoxSubSection">
        <property name="title" value="Summary"/>
        <property name="instructionalText" value="This is an overview highlighting key account information"/>
        <property name="readOnly" value="true"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="totalAmnt" p:label="Balance">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="lastLedgerDate" p:label="Last Ledger Date">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="lastStatementText" p:label="Statement">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!-- a horizontal row of text boxes, read only, fields are provided from the corresponding form class -->
    <bean id="First_Glance_Section" parent="Uif-HorizontalBoxSubSection">
        <property name="title" value="First Glance"/>
        <property name="instructionalText" value="Key Information"/>
        <property name="readOnly" value="true"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="totalAmnt" p:label="Balance">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="lastLedgerDate" p:label="Last Ledger Date">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="lastStatementText" p:label="Statement">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

<!--    <bean id="Recent_Transaction_Section" parent="Uif-GridSubSection">
        <property name="title" value="Recent Transactions"/>
        <property name="instructionalText" value="A list of the most recent transactions"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="transaction.responsibleEntity" p:label="Responsible Entity">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>-->

    <!-- a horizontal row of controls, read write, fields are provided from the corresponding form class -->
    <bean id="Query_Filters_Section" parent="Uif-HorizontalBoxSubSection">
        <property name="title" value="Query Filters"/>
        <property name="instructionalText" value="Adjust the database query using a row limit value and/or date range"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="workSetRows" p:label="Work Set rows" p:width="auto"
                      p:instructionalText="Optional: Override the working list's default number of rows (20) retrieved" p:defaultValue="2">
                    <property name="control">
                        <bean parent="Uif-DropdownControl"/>
                    </property>
                    <property name="optionsFinder">
                        <bean class="com.sigmasys.kuali.ksa.krad.util.QueryRangeKeyValues" p:blankOption="false"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="minQueryDate" p:label="From Date"
                      p:instructionalText="Minimum date to query from">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="maxQueryDate" p:label="To Date"
                      p:instructionalText="Maximum date to query to">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!-- a list of Charge transactions from the model type within the form's list -->
    <bean id="Recent_Transaction_Section" parent="Uif-Disclosure-TableCollectionSection" p:layoutManager.numberOfColumns="5">
        <property name="title" value="Recent Transactions"/>
        <property name="instructionalText"
                  value="Recent Transactions"/>
        <property name="readOnly" value="true"/>
        <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Charge"/>
        <property name="propertyName" value="charges"/>
        <property name="layoutManager.sequencePropertyName" value="id"/>
        <property name="layoutManager.richTable.render" value="false"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:label="Ledger Date" p:propertyName="ledgerDate" p:required="true"/>
                <bean parent="Uif-InputField" p:label="Description" p:propertyName="statementText" p:required="true"
                      p:constraintText="Requires Date be filled out">
                    <property name="dependencyConstraints">
                        <list>
                            <bean parent="PrerequisiteConstraint" p:propertyName="ledgerDate"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Amount" p:propertyName="amount" p:required="true"/>
                <bean parent="Uif-InputField" p:label="Currency" p:propertyName="currency.code" p:required="true"/>
                <bean parent="Uif-Link" p:linkLabel="Details" p:target="_self"
                      p:hrefText="chargeMaintVw?viewId=ChargeMaintenanceVw&amp;methodToCall=get&amp;id=@{#line.id}"/>
            </list>
        </property>
    </bean>

</beans>


